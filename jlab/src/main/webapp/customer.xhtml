<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <h:head/>
    <h:body>
        <h2>#{updateCustomerAddress.customer.name}</h2>
        <h:form>
            <h:outputText value="address: "/>
            <h:inputText a:placeholder="enter the value" value="#{updateCustomerAddress.customer.address}" required="true"/>
            <h:commandButton value="update" action="#{updateCustomerAddress.updateCustomerAddress()}">
                <f:param name="customerId" value="#{ordersForCustomer.customer.id}"/>
            </h:commandButton>
            <h:outputText value="value was already modified by other user" rendered="#{param['error'] == 'optimistic-lock-exception'}"/>
        </h:form>
        <h:form>
            <h:outputText value="#{findCustomerAddress.locationFindingStatus}"/>
            <h:commandButton value="Find my location" disabled="#{findCustomerAddress.locationFindingRunning}" action="#{findCustomerAddress.findCustomerLocation()}">
                <f:param name="customerId" value="#{ordersForCustomer.customer.id}"/>
            </h:commandButton>
        </h:form>
        <h:link outcome="home" value="Back to home page"/>
    </h:body>
</html>